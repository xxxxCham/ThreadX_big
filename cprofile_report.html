
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ThreadX cProfile Analysis</title>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: #1a1a1a;
            color: #e0e0e0;
        }
        .header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            margin-bottom: 30px;
        }
        h1 { margin: 0; color: white; }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        .stat-label {
            color: #999;
            margin-top: 5px;
        }
        .chart {
            background: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        table {
            width: 100%;
            background: #2d2d2d;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #404040;
            font-size: 0.9em;
        }
        th {
            background: #3d3d3d;
            color: #667eea;
            font-weight: bold;
        }
        tr:hover {
            background: #353535;
        }
        .function-name {
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
        }
        .highlight {
            background: #4a4a00;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üî¨ ThreadX cProfile Analysis</h1>
        <p>Analyse d√©taill√©e des performances avec cProfile</p>
    </div>

    <div class="stats">
        <div class="stat-card">
            <div class="stat-value">36</div>
            <div class="stat-label">Combinaisons test√©es</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">0.53s</div>
            <div class="stat-label">Temps total</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">67.3</div>
            <div class="stat-label">Tests/sec</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">50</div>
            <div class="stat-label">Fonctions profil√©es</div>
        </div>
    </div>

    <div class="chart">
        <h2>‚è±Ô∏è Top 20 - Temps cumulatif</h2>
        <div id="cumtimeChart"></div>
    </div>

    <div class="chart">
        <h2>üî• Top 20 - Temps propre (tottime)</h2>
        <div id="tottimeChart"></div>
    </div>

    <div class="chart">
        <h2>üìä D√©tails des fonctions (Top 40)</h2>
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Fonction</th>
                    <th>Appels</th>
                    <th>Temps total (s)</th>
                    <th>Par appel (ms)</th>
                    <th>Cumulatif (s)</th>
                    <th>Par appel cum (ms)</th>
                </tr>
            </thead>
            <tbody>

                <tr class="">
                    <td>1</td>
                    <td class="function-name">_base.py:199(as_completed)</td>
                    <td>37</td>
                    <td>0.003</td>
                    <td>0.00</td>
                    <td>1.069</td>
                    <td>29.00</td>
                </tr>

                <tr class="">
                    <td>2</td>
                    <td class="function-name">series.py:6583(std)</td>
                    <td>36/10</td>
                    <td>0.020</td>
                    <td>1.00</td>
                    <td>1.054</td>
                    <td>105.00</td>
                </tr>

                <tr class="">
                    <td>3</td>
                    <td class="function-name">threading.py:637(wait)</td>
                    <td>30</td>
                    <td>0.007</td>
                    <td>0.00</td>
                    <td>1.034</td>
                    <td>34.00</td>
                </tr>

                <tr class="">
                    <td>4</td>
                    <td class="function-name">{method 'acquire' of '_thread.lock' objects}</td>
                    <td>350/116</td>
                    <td>0.001</td>
                    <td>0.00</td>
                    <td>1.024</td>
                    <td>9.00</td>
                </tr>

                <tr class="">
                    <td>5</td>
                    <td class="function-name">threading.py:323(wait)</td>
                    <td>66</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>1.022</td>
                    <td>15.00</td>
                </tr>

                <tr class="">
                    <td>6</td>
                    <td class="function-name">threading.py:1117(join)</td>
                    <td>8</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>1.011</td>
                    <td>126.00</td>
                </tr>

                <tr class="">
                    <td>7</td>
                    <td class="function-name">threading.py:1155(_wait_for_tstate_lock)</td>
                    <td>8</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>1.011</td>
                    <td>126.00</td>
                </tr>

                <tr class="">
                    <td>8</td>
                    <td class="function-name">series.py:6418(_reduce)</td>
                    <td>108/33</td>
                    <td>0.014</td>
                    <td>0.00</td>
                    <td>0.870</td>
                    <td>26.00</td>
                </tr>

                <tr class="">
                    <td>9</td>
                    <td class="function-name">nanops.py:111(f)</td>
                    <td>108/21</td>
                    <td>0.007</td>
                    <td>0.00</td>
                    <td>0.857</td>
                    <td>41.00</td>
                </tr>

                <tr class="">
                    <td>10</td>
                    <td class="function-name">generic.py:12350(std)</td>
                    <td>36/10</td>
                    <td>0.023</td>
                    <td>1.00</td>
                    <td>0.850</td>
                    <td>85.00</td>
                </tr>

                <tr class="">
                    <td>11</td>
                    <td class="function-name">generic.py:12294(_stat_function_ddof)</td>
                    <td>36/10</td>
                    <td>0.006</td>
                    <td>0.00</td>
                    <td>0.824</td>
                    <td>82.00</td>
                </tr>

                <tr class="">
                    <td>12</td>
                    <td class="function-name">expanding.py:288(max)</td>
                    <td>36/13</td>
                    <td>0.013</td>
                    <td>0.00</td>
                    <td>0.819</td>
                    <td>63.00</td>
                </tr>

                <tr class="">
                    <td>13</td>
                    <td class="function-name">rolling.py:1561(max)</td>
                    <td>36/13</td>
                    <td>0.010</td>
                    <td>0.00</td>
                    <td>0.795</td>
                    <td>61.00</td>
                </tr>

                <tr class="">
                    <td>14</td>
                    <td class="function-name">engine.py:246(run_grid)</td>
                    <td>1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.535</td>
                    <td>535.00</td>
                </tr>

                <tr class="">
                    <td>15</td>
                    <td class="function-name">engine.py:366(_execute_combinations)</td>
                    <td>1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.535</td>
                    <td>535.00</td>
                </tr>

                <tr class="">
                    <td>16</td>
                    <td class="function-name">model.py:439(from_trades_and_equity)</td>
                    <td>36/2</td>
                    <td>0.014</td>
                    <td>0.00</td>
                    <td>0.508</td>
                    <td>254.00</td>
                </tr>

                <tr class="">
                    <td>17</td>
                    <td class="function-name">series.py:1095(__getitem__)</td>
                    <td>36/12</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.508</td>
                    <td>42.00</td>
                </tr>

                <tr class="">
                    <td>18</td>
                    <td class="function-name">series.py:5820(dropna)</td>
                    <td>36/9</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>56.00</td>
                </tr>

                <tr class="">
                    <td>19</td>
                    <td class="function-name">missing.py:718(remove_na_arraylike)</td>
                    <td>36/9</td>
                    <td>0.009</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>56.00</td>
                </tr>

                <tr class="">
                    <td>20</td>
                    <td class="function-name">_base.py:646(__exit__)</td>
                    <td>1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>506.00</td>
                </tr>

                <tr class="">
                    <td>21</td>
                    <td class="function-name">thread.py:220(shutdown)</td>
                    <td>1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>506.00</td>
                </tr>

                <tr class="">
                    <td>22</td>
                    <td class="function-name">threading.py:1018(_bootstrap)</td>
                    <td>8/1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>506.00</td>
                </tr>

                <tr class="">
                    <td>23</td>
                    <td class="function-name">threading.py:1058(_bootstrap_inner)</td>
                    <td>8/1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>506.00</td>
                </tr>

                <tr class="">
                    <td>24</td>
                    <td class="function-name">threading.py:1001(run)</td>
                    <td>8/1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>506.00</td>
                </tr>

                <tr class="">
                    <td>25</td>
                    <td class="function-name">thread.py:70(_worker)</td>
                    <td>8/1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>506.00</td>
                </tr>

                <tr class="">
                    <td>26</td>
                    <td class="function-name">{method 'get' of '_queue.SimpleQueue' objects}</td>
                    <td>8/1</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.506</td>
                    <td>506.00</td>
                </tr>

                <tr class="">
                    <td>27</td>
                    <td class="function-name">thread.py:54(run)</td>
                    <td>36/1</td>
                    <td>0.020</td>
                    <td>1.00</td>
                    <td>0.504</td>
                    <td>504.00</td>
                </tr>

                <tr class="">
                    <td>28</td>
                    <td class="function-name">engine.py:699(_evaluate_single_combination)</td>
                    <td>36/1</td>
                    <td>0.002</td>
                    <td>0.00</td>
                    <td>0.504</td>
                    <td>504.00</td>
                </tr>

                <tr class="">
                    <td>29</td>
                    <td class="function-name">bb_atr.py:521(backtest)</td>
                    <td>36/1</td>
                    <td>0.014</td>
                    <td>0.00</td>
                    <td>0.504</td>
                    <td>504.00</td>
                </tr>

                <tr class="">
                    <td>30</td>
                    <td class="function-name">series.py:6499(min)</td>
                    <td>36/30</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.340</td>
                    <td>11.00</td>
                </tr>

                <tr class="">
                    <td>31</td>
                    <td class="function-name">generic.py:12381(min)</td>
                    <td>36/30</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.339</td>
                    <td>11.00</td>
                </tr>

                <tr class="">
                    <td>32</td>
                    <td class="function-name">rolling.py:562(_apply)</td>
                    <td>48/25</td>
                    <td>0.006</td>
                    <td>0.00</td>
                    <td>0.199</td>
                    <td>8.00</td>
                </tr>

                <tr class="">
                    <td>33</td>
                    <td class="function-name">rolling.py:460(_apply_columnwise)</td>
                    <td>48/25</td>
                    <td>0.006</td>
                    <td>0.00</td>
                    <td>0.193</td>
                    <td>8.00</td>
                </tr>

                <tr class="">
                    <td>34</td>
                    <td class="function-name">rolling.py:440(_apply_series)</td>
                    <td>48/25</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.193</td>
                    <td>8.00</td>
                </tr>

                <tr class="">
                    <td>35</td>
                    <td class="function-name">rolling.py:595(homogeneous_func)</td>
                    <td>48/26</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.188</td>
                    <td>7.00</td>
                </tr>

                <tr class="">
                    <td>36</td>
                    <td class="function-name">generic.py:12362(_stat_function)</td>
                    <td>36/30</td>
                    <td>0.002</td>
                    <td>0.00</td>
                    <td>0.152</td>
                    <td>5.00</td>
                </tr>

                <tr class="">
                    <td>37</td>
                    <td class="function-name">generic.py:11983(pct_change)</td>
                    <td>36/27</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.112</td>
                    <td>4.00</td>
                </tr>

                <tr class="">
                    <td>38</td>
                    <td class="function-name">generic.py:7061(_pad_or_backfill)</td>
                    <td>36</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.096</td>
                    <td>3.00</td>
                </tr>

                <tr class="">
                    <td>39</td>
                    <td class="function-name">base.py:299(pad_or_backfill)</td>
                    <td>36</td>
                    <td>0.000</td>
                    <td>0.00</td>
                    <td>0.096</td>
                    <td>3.00</td>
                </tr>

                <tr class="">
                    <td>40</td>
                    <td class="function-name">frame.py:4271(__setitem__)</td>
                    <td>396/214</td>
                    <td>0.001</td>
                    <td>0.00</td>
                    <td>0.092</td>
                    <td>0.00</td>
                </tr>

            </tbody>
        </table>
    </div>

    <script>
        // Chart cumtime
        var cumData = [{
            x: ["_base.py:199(as_completed)", "series.py:6583(std)", "threading.py:637(wait)", "{method 'acquire' of '_thread.lock' objects}", "threading.py:323(wait)", "threading.py:1117(join)", "threading.py:1155(_wait_for_tstate_lock)", "series.py:6418(_reduce)", "nanops.py:111(f)", "generic.py:12350(std)", "generic.py:12294(_stat_function_ddof)", "expanding.py:288(max)", "rolling.py:1561(max)", "engine.py:246(run_grid)", "engine.py:366(_execute_combinations)", "model.py:439(from_trades_and_equity)", "series.py:1095(__getitem__)", "series.py:5820(dropna)", "missing.py:718(remove_na_arraylike)", "_base.py:646(__exit__)"],
            y: [1.069, 1.054, 1.034, 1.024, 1.022, 1.011, 1.011, 0.87, 0.857, 0.85, 0.824, 0.819, 0.795, 0.535, 0.535, 0.508, 0.508, 0.506, 0.506, 0.506],
            type: 'bar',
            marker: {
                color: '#667eea',
                line: { color: '#764ba2', width: 2 }
            }
        }];

        var cumLayout = {
            paper_bgcolor: '#2d2d2d',
            plot_bgcolor: '#2d2d2d',
            font: { color: '#e0e0e0' },
            xaxis: {
                tickangle: -45,
                gridcolor: '#404040'
            },
            yaxis: {
                title: 'Temps cumulatif (s)',
                gridcolor: '#404040'
            },
            height: 500,
            margin: { b: 200 }
        };

        Plotly.newPlot('cumtimeChart', cumData, cumLayout);

        // Chart tottime
        var totData = [{
            x: ["_base.py:199(as_completed)", "series.py:6583(std)", "threading.py:637(wait)", "{method 'acquire' of '_thread.lock' objects}", "threading.py:323(wait)", "threading.py:1117(join)", "threading.py:1155(_wait_for_tstate_lock)", "series.py:6418(_reduce)", "nanops.py:111(f)", "generic.py:12350(std)", "generic.py:12294(_stat_function_ddof)", "expanding.py:288(max)", "rolling.py:1561(max)", "engine.py:246(run_grid)", "engine.py:366(_execute_combinations)", "model.py:439(from_trades_and_equity)", "series.py:1095(__getitem__)", "series.py:5820(dropna)", "missing.py:718(remove_na_arraylike)", "_base.py:646(__exit__)"],
            y: [0.003, 0.02, 0.007, 0.001, 0.0, 0.0, 0.0, 0.014, 0.007, 0.023, 0.006, 0.013, 0.01, 0.0, 0.0, 0.014, 0.0, 0.0, 0.009, 0.0],
            type: 'bar',
            marker: {
                color: '#f093fb',
                line: { color: '#f5576c', width: 2 }
            }
        }];

        var totLayout = {
            paper_bgcolor: '#2d2d2d',
            plot_bgcolor: '#2d2d2d',
            font: { color: '#e0e0e0' },
            xaxis: {
                tickangle: -45,
                gridcolor: '#404040'
            },
            yaxis: {
                title: 'Temps propre (s)',
                gridcolor: '#404040'
            },
            height: 500,
            margin: { b: 200 }
        };

        Plotly.newPlot('tottimeChart', totData, totLayout);
    </script>
</body>
</html>
